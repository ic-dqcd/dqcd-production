import FWCore.ParameterSet.Config as cms

from Configuration.Generator.Pythia8CommonSettings_cfi import *
from Configuration.Generator.MCTunesRun3ECM13p6TeV.PythiaCP5Settings_cfi import *
from Configuration.Generator.PSweightsPythia.PythiaPSweightsSettings_cfi import *




generator = cms.EDFilter("Pythia8ConcurrentGeneratorFilter",
    pythiaPylistVerbosity = cms.untracked.int32(1),
    filterEfficiency = cms.untracked.double(1.0),
    pythiaHepMCVerbosity = cms.untracked.bool(False),
    comEnergy = cms.double(13000.0),
    crossSection = cms.untracked.double(1.),
    maxEventsToPrint = cms.untracked.int32(1),
    PythiaParameters = cms.PSet(
        pythia8CommonSettingsBlock,
        pythia8PSweightsSettingsBlock,
        pythia8CP5SettingsBlock,
        processParameters = cms.vstring(
    "",
    "##############################################################################################",
    "# Pythia 8 card for dark shower models with flavor violation, as defined in arXiv xxxx.xxxxx",
    "##############################",
    "# meson/dark photon masses",
    "# m_pi1:     10.0  GeV",
    "# m_pi2:     10.0  GeV",
    "# m_pi3:     9.9  GeV",
    "# m_eta:     14.4  GeV",
    "# m_A:       8.0    GeV",
    "# other parameters",
    "# Nc:        3",
    "# Nf:        2",
    "# m quark 1: 3.12   GeV",
    "# m quark 2: 3.82   GeV",
    "# Lambda:    14.4   GeV",
    "# m0:        14.4   GeV",
    "# f:         1.15   GeV",
    "# v_dark:    80.0   GeV",
    "# g:         0.1",
    "# epsilon:   0.0387",
    "# y11:       0.00623",
    "# y12:       0.0614",
    "##############################",
    "##############################",
    "# decay table",
    "# pi1:    stable",
    "# pi2:    stable",
    "# pi3:    stable",
    "# eta:    pi2 e+ e-                0.228",
    "#         pi2 pi+ pi-              0.0543",
    "#         pi2 K+ K-                0.00519",
    "#         pi2 pi+ pi- pi0          0.00684",
    "#         pi2 pi+ pi- pi+ pi-      0.015",
    "#         pi2 pi+ pi- pi0 pi0      0.0145",
    "#         pi2 mu+ mu-              0.226",
    "#         pi2 tau+ tau-            0.0103",
    "#         pi2 u ubar               0.221",
    "#         pi2 c cbar               0.109",
    "#         pi2 d dbar               0.0552",
    "#         pi2 s sbar               0.0552",
    "#         pi2 b bbar               0.0",
    "#         ctau = 0.03 cm",
    "# A':     e+ e-                    0.158",
    "#         pi+ pi-                  0.0",
    "#         K+ K-                    0.0",
    "#         pi+ pi- pi0              0.0",
    "#         pi+ pi- pi+ pi-          0.0",
    "#         pi+ pi- pi0 pi0          0.0",
    "#         mu+ mu-                  0.158",
    "#         tau+ tau-                0.156",
    "#         u ubar                   0.211",
    "#         c cbar                   0.211",
    "#         d dbar                   0.0528",
    "#         s sbar                   0.0528",
    "#         b bbar                   0.0",
    "#         ctau = 1.08e-10 cm",
    "##############################",
    "",
    "# Generated by Simon on November 20, 2024",
    "# lines starting with ! or # are commented out",
    "##############################################################################################",
    "",
    "! Settings used in the main program.",
    "Main:numberOfEvents = 1000                     ! number of events to generate",
    "Beams:eCM = 13000.                              ! CM energy of collision",
    "",
    "! Settings related to output in init(), next() and stat().",
    "Init:showChangedSettings = on                   ! list changed settings",
    "Init:showChangedParticleData = on              ! list changed particle data",
    "Next:numberCount = 1000                         ! print message every n events",
    "Next:numberShowInfo = 0                         ! print event information n times",
    "Next:numberShowProcess = 0                      ! print process record n times",
    "Next:numberShowEvent = 2                        ! print event record n times",
    "",
    "! For debugging purposes only",
    "! PartonLevel:ISR = off",
    "! PartonLevel:FSR = off",
    "! PartonLevel:MPI = off",
    "! HadronLevel:all = off",
    "",
    "! Production settings",
    "! decay the Higgs to two dark quark, turn off all SM branching ratios",
    "HiggsSM:gg2H = on",
    "25:m0 =125",
    "25:addChannel = 1 0.5 102 4900101 -4900101",
    "25:addChannel = 1 0.5 102 4900102 -4900102",
    "25:0:onMode=0",
    "25:1:onMode=0",
    "25:2:onMode=0",
    "25:3:onMode=0",
    "25:4:onMode=0",
    "25:5:onMode=0",
    "25:6:onMode=0",
    "25:7:onMode=0",
    "25:8:onMode=0",
    "25:9:onMode=0",
    "25:10:onMode=0",
    "25:11:onMode=0",
    "25:12:onMode=0",
    "25:13:onMode=0",
    "",
    "! HiddenValley Settings",
    "HiddenValley:Ngauge = 3                          ! number of colors",
    "HiddenValley:nFlav = 2                           ! number of flavors",
    "HiddenValley:fragment = on",
    "HiddenValley:FSR = on",
    "HiddenValley:alphaOrder = 1                      ! use running coupling",
    "HiddenValley:setLambda = on                      ! only for pythia 8.309 and higher",
    "HiddenValley:Lambda = 14.4              ! dark confinement scale",
    "HiddenValley:pTminFSR = 15.840000000000002        ! pT cut off on dark shower (IR regulator)",
    "HiddenValley:spinFv=0                            ! spin of bifundamentals: not used, but set for consistency",
    "HiddenValley:probVector=0.75                     ! fraction of hadronization to spin 1",
    "HiddenValley:separateFlav = on                   ! allow for non-degenerate mesons",
    "HiddenValley:probKeepEta1 = 1.0                  ! suppression factor for eta hadronization",
    "",
    "! dark sector meson mass spectrum",
    "4900101:m0 = 17.51968982528819          ! Dark Quark Mass, following arXiv:2203.09503",
    "4900102:m0 = 18.224754619156258          ! Dark Quark Mass, following arXiv:2203.09503",
    "4900111:m0 = 10                        ! Setting pion Mass",
    "4900211:m0 = 10                        ! Setting pion Mass",
    "4900221:m0 = 14.4                        ! Setting eta Mass",
    "4900113:m0 = 14.4                       ! Setting rho Mass",
    "4900213:m0 = 14.4                       ! Setting rho Mass",
    "",
    "! vector meson decay chains",
    "4900113:onMode = 0",
    "4900213:onMode = 0",
    "",
    "! eta decay chains",
    "4900221:addChannel = 1 0.228 91 4900211 11 -11              ! eta -> pi2 e+ e-",
    "4900221:addChannel = 1 0.0543 91 4900211 211 -211              ! eta -> pi2 pi+ pi-",
    "4900221:addChannel = 1 0.00519 91 4900211 321 -321              ! eta -> pi2 K+ K-",
    "4900221:addChannel = 1 0.00684 91 4900211 211 -211 111              ! eta -> pi2 pi+ pi- pi0",
    "4900221:addChannel = 1 0.015 91 4900211 211 -211 211 -211              ! eta -> pi2 pi+ pi- pi+ pi-",
    "4900221:addChannel = 1 0.0145 91 4900211 211 -211 111 111              ! eta -> pi2 pi+ pi- pi0 pi0",
    "4900221:addChannel = 1 0.226 91 4900211 13 -13              ! eta -> pi2 mu+ mu-",
    "4900221:addChannel = 1 0.0103 91 4900211 15 -15              ! eta -> pi2 tau+ tau-",
    "4900221:addChannel = 1 0.221 91 4900211 2 -2              ! eta -> pi2 u ubar",
    "4900221:addChannel = 1 0.109 91 4900211 4 -4              ! eta -> pi2 c cbar",
    "4900221:addChannel = 1 0.0552 91 4900211 1 -1              ! eta -> pi2 d dbar",
    "4900221:addChannel = 1 0.0552 91 4900211 3 -3              ! eta -> pi2 s sbar",
    "4900221:tau0 = 0.3                            ! proper lifetime, in mm",
    "",
    "! pion decay chains",
    "4900111:onMode = 0",
    "4900211:onMode = 0",
        ),
        parameterSets = cms.vstring(
            'pythia8CommonSettings',
            'processParameters',
            'pythia8PSweightsSettings',
            'pythia8CP5Settings',
        ),
    )
)
